all:
  vars:
    motd_system: Home
    motd_sys_env: LAB

    cis_level_1_exclusions: ['1.2.3','1.3.1','1.8','2.2.7','3.4.1','3.4.2','3.4.3','3.4.4','3.4.5','5.2.8','5.3.2']
    cis_level_2_exclusions: ['6.1.1']
      # 1.2.3   - GPG checking
      # 1.3.1   - 'aide --init' on EL8 hangs
      # 1.8     - Yum update *
      # 2.2.7   - Removes ipa-client as a dependency of rpcbind/nfs-utils.
      # 3.4.2-5 - hosts.allow and hosts.deny not configured
      # 5.2.8   - Disable root ssh
      # 5.3.2   - PAM config
      # 6.1.1.  - Audit Sytem File Permissions
    cis_chrony_servers: |+
      server ntp1.core.home.gatwards.org iburst
      server ntp2.core.home.gatwards.org iburst
      server ntp3.core.home.gatwards.org iburst
    cis_ntp_clients: "{{ cis_chrony_servers }}"

    cis_local_login_warning_banner: |+
      ###############################################################
      #  All connections to this system are monitored and recorded  #
      #  Disconnect IMMEDIATELY if you are not an authorized user!  #
      ###############################################################
    cis_remote_login_warning_banner: "{{ cis_local_login_warning_banner }}"
    cis_sshd_client_alive_interval: 82400

    node_exporter_textfile_deploy: true
    node_exporter_enabled_collectors:
    - diskstats
    - filesystem:
        ignored-mount-points: "^/(dev|proc|sys|var/lib/docker/.+)($|/)"
        ignored-fs-types: "^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$"
    - logind
    - mountstats
    - netstat
    - systemd
    - textfile:
        directory: "{{ node_exporter_textfile_dir }}"
    node_exporter_disabled_collectors:
    - infiniband
    - uname
    - xfs

    # Common SSL parameters
    tls_cafile: /etc/pki/ca-trust/source/anchors/GatwardIT-IPA.pem

  children:
    docker:
      children:
        docker_nas:
          hosts:
            nas1.core.home.gatwards.org:
              ansible_python_interpreter: /usr/bin/python

    ovirt:
      hosts:
        baremetal1.lab.home.gatwards.org: {}



    # raspberry:
    #   hosts:
    #     openhab.core.home.gatwards.org: {}
    #     rpi-util1.core.home.gatwards.org: {}
    #     rpi-util2.core.home.gatwards.org:
    #       ssh_X11Forwarding: 'yes'
      # vars:
      #   ansible_python_interpreter: /usr/bin/python3
      #   prometheus_platform_architecture: linux-armv7
      #   ssl_dir: /etc/ssl/localcerts
      #   ca_path: /usr/local/share/ca-certificates



    sandbox:
      hosts:
        sandbox-cent7.lab.home.gatwards.org: {}
        sandbox-cent8.lab.home.gatwards.org: {}
        sandbox-cent7w.lab.home.gatwards.org: {}
        sandbox-cent8w.lab.home.gatwards.org: {}
        sandbox-rhel7.lab.home.gatwards.org: {}
        sandbox-rhel8.lab.home.gatwards.org: {}
        sandbox-rhel7w.lab.home.gatwards.org: {}
        sandbox-rhel8w.lab.home.gatwards.org: {}
        sandbox-f30w.lab.home.gatwards.org: {}

    workstation:
      hosts:
        sandbox-cent7w.lab.home.gatwards.org: {}
        sandbox-cent8w.lab.home.gatwards.org: {}
        sandbox-f30w.lab.home.gatwards.org:
          desktop_group: "Cinnamon Desktop"
          install_spotify: true
          disable_squashfs: false
        # sandbox-rhel7w.lab.home.gatwards.org: {}
        # sandbox-rhel8w.lab.home.gatwards.org: {}
      vars:
        motd_role: Workstation
        setup_automounts: true
        configure_printer: true
        install_chrome: true
        install_xrdp: true
        install_playonlinux: false
        install_spotify: false
        #desktop_group: "Cinnamon Desktop"
        browser_startup_url: 'https://google.com.au'
        install_development: false
        additional_ws_packages:
        - vlc

    ungrouped: {}
